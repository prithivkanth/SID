<?xml version="1.0" ?>
<robot name="walle" xmlns:xacro="http://www.ros.org/wiki/xacro">
  
<xacro:arg name="is_ignition" default="true"/>

<xacro:arg name="is_sim" default="true"/>

<xacro:include filename="$(find walle_description)/urdf/materials.xacro" />
<xacro:include filename="$(find walle_description)/urdf/walle_ros2_control.xacro" />
<xacro:include filename="$(find walle_description)/urdf/walle_gazebo.xacro" />

<link name="base_footprint"/>

<link name="base_link">
  <inertial>
    <origin xyz="-0.00045685530729292265 0.0004136281243083317 0.11948332647769622" rpy="0 0 0"/>
    <mass value="4.791704659790887"/>
    <inertia ixx="0.036131" iyy="0.02501" izz="0.044487" ixy="0.0" iyz="5e-06" ixz="-5.5e-05"/>
  </inertial>
  <visual>
    <origin xyz="0 0 -0.054001" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="yellow"/>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<joint name="base_joint" type="fixed">
  <parent link="base_footprint"/>
  <child link="base_link" />
  <origin xyz="0 0 0.054001" rpy="0 0 0"/>
</joint> 

<link name="left_wheel_1">
  <inertial>
    <origin xyz="3.3467447201757095e-07 0.024999627663606278 1.808861906857362e-07" rpy="0 0 0"/>
    <mass value="3.5956470398131257"/>
    <inertia ixx="0.00337" iyy="0.005242" izz="0.00337" ixy="-0.0" iyz="0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="0.055614 -0.110181 -0.054001" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="black"/>
  </visual>
  <collision>
    <origin xyz="0.055614 -0.110181 -0.054001" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="right_wheel_1">
  <inertial>
    <origin xyz="3.346744719828765e-07 -0.025000051385102237 1.8088619053308053e-07" rpy="0 0 0"/>
    <mass value="3.5956470398131253"/>
    <inertia ixx="0.00337" iyy="0.005242" izz="0.00337" ixy="0.0" iyz="0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="0.055614 0.109219 -0.054001" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="black"/>
  </visual>
  <collision>
    <origin xyz="0.055614 0.109219 -0.054001" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="caster_wheel_1">
  <inertial>
    <origin xyz="-7.153065921527979e-08 -1.1170202059618186e-07 -0.04496975521572788" rpy="0 0 0"/>
    <mass value="0.4982856545913868"/>
    <inertia ixx="0.000365" iyy="0.000365" izz="5.5e-05" ixy="0.0" iyz="0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.101383 -0.00039 -0.094797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/caster_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.101383 -0.00039 -0.094797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/caster_wheel_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="laser_link">
  <inertial>
    <origin xyz="-7.153065918145268e-08 -1.1170202091591308e-07 0.009718373123905694" rpy="0 0 0"/>
    <mass value="0.5843654094095093"/>
    <inertia ixx="0.000193" iyy="0.000193" izz="0.000348" ixy="0.0" iyz="0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.001383 -0.00039 -0.179797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="black"/>
  </visual>
  <collision>
    <origin xyz="-0.001383 -0.00039 -0.179797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="imu_link">
  <inertial>
    <origin xyz="-7.153065904527689e-08 1.3403373669393544e-07 -0.0024998122926913197" rpy="0 0 0"/>
    <mass value="0.007290803052000012"/>
    <inertia ixx="0.0" iyy="0.0" izz="0.0" ixy="-0.0" iyz="0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="0.021117 -0.000222 -0.089797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/imu_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0.021117 -0.000222 -0.089797" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find walle_description)/meshes/imu_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<joint name="left_wheel_joint" type="continuous">
  <origin xyz="-0.055614 0.110181 0" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="left_wheel_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="right_wheel_joint" type="continuous">
  <origin xyz="-0.055614 -0.109219 0" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="right_wheel_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="caster_wheel_joint" type="fixed">
  <origin xyz="0.101383 0.00039 0.0400" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="caster_wheel_1"/>
</joint>

<joint name="lidar_joint" type="fixed">
  <origin xyz="0.001383 0.00039 0.12600" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="laser_link"/>
</joint>

<joint name="imu_joint" type="fixed">
  <origin xyz="-0.021117 0.000222 0.0600" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="imu_link"/>
</joint>


</robot>